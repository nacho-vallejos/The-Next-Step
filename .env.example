# ==========================================
# CONFIGURACIÓN DE SEGURIDAD - THE NEXT STEP
# ==========================================
# IMPORTANTE: Copiar este archivo a .env y configurar con valores reales
# NUNCA commitear el archivo .env al repositorio

# ENTORNO
NODE_ENV=development # development | production | test

# SERVIDOR
PORT=3000
HOST=localhost
ALLOWED_ORIGINS=http://localhost:3000,https://thenextstep.com.ar

# SESIONES Y COOKIES
SESSION_SECRET=CAMBIAR_POR_STRING_ALEATORIO_MINIMO_32_CARACTERES
SESSION_NAME=tns_session
SESSION_MAX_AGE=3600000 # 1 hora en ms
COOKIE_SECRET=CAMBIAR_POR_OTRO_STRING_ALEATORIO_32_CARACTERES

# CSRF
CSRF_SECRET=CAMBIAR_POR_STRING_ALEATORIO_CSRF_32_CARACTERES

# JWT (si aplica)
JWT_SECRET=CAMBIAR_POR_JWT_SECRET_MINIMO_64_CARACTERES
JWT_EXPIRES_IN=15m
JWT_REFRESH_SECRET=CAMBIAR_POR_REFRESH_SECRET_64_CARACTERES
JWT_REFRESH_EXPIRES_IN=7d

# REDIS (opcional - para sesiones distribuidas)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_ENABLED=false

# RATE LIMITING
RATE_LIMIT_WINDOW_MS=900000 # 15 minutos
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_AUTH_MAX=5 # intentos de login
RATE_LIMIT_CONTACT_MAX=3 # envíos de formulario

# BASE DE DATOS (ejemplo - ajustar según necesidad)
DATABASE_URL=postgresql://user:password@localhost:5432/thenextstep
DATABASE_SSL=true

# EMAIL (para formulario de contacto)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=contacto@thenextstep.com.ar
SMTP_PASSWORD=CAMBIAR_POR_PASSWORD_SMTP
EMAIL_FROM=contacto@thenextstep.com.ar
EMAIL_TO=info@thenextstep.com.ar

# UPLOADS
UPLOAD_MAX_SIZE=5242880 # 5MB en bytes
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,application/pdf
UPLOAD_DIR=./uploads

# LOGGING
LOG_LEVEL=info # trace, debug, info, warn, error, fatal
LOG_TO_FILE=true
LOG_DIR=./logs

# SEGURIDAD
BCRYPT_ROUNDS=12
ARGON2_TIME_COST=3
ARGON2_MEMORY_COST=65536
ARGON2_PARALLELISM=4

# CSP (Content Security Policy)
CSP_REPORT_URI=/api/csp-report
CSP_REPORT_ONLY=false

# ANTIVIRUS (si está disponible)
CLAMAV_ENABLED=false
CLAMAV_HOST=localhost
CLAMAV_PORT=3310

# MONITORING Y ALERTAS
SENTRY_DSN=
ALERT_EMAIL=security@thenextstep.com.ar
ALERT_THRESHOLD_401=10 # alertar después de X intentos fallidos
ALERT_THRESHOLD_429=50 # alertar después de X rate limits

# TLS/SSL (para producción)
SSL_KEY_PATH=/etc/ssl/private/thenextstep.key
SSL_CERT_PATH=/etc/ssl/certs/thenextstep.crt
SSL_CA_PATH=/etc/ssl/certs/ca-bundle.crt

# COMPLIANCE (Ley 25.326 Argentina)
DATA_RETENTION_DAYS=730 # 2 años
GDPR_MODE=false
PII_ENCRYPTION_KEY=CAMBIAR_POR_KEY_ENCRIPTACION_PII_32_CARACTERES
